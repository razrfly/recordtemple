<div class="min-h-screen bg-olive-50">
  <%# Hero Section %>
  <section class="pt-8 pb-4 sm:pt-12 sm:pb-6">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h1 class="font-display text-3xl sm:text-4xl tracking-tight text-olive-950">
          Discover
        </h1>
        <p class="mt-2 text-olive-600 max-w-2xl mx-auto">
          Explore <%= number_with_delimiter(@total_with_images || 0) %> records with covers.
          New discoveries every day.
        </p>
      </div>
    </div>
  </section>

  <%# Shuffle Machine %>
  <section class="py-6 sm:py-8 bg-gradient-to-b from-olive-100 to-olive-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <%= render "discovery/shuffle_machine" %>
    </div>
  </section>

  <%# Daily Gems Carousel %>
  <% if @daily_gems&.any? %>
    <section class="py-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h2 class="font-display text-2xl text-olive-950 flex items-center gap-2">
              <svg class="w-6 h-6 text-amber-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              Daily Gems
            </h2>
            <p class="text-olive-600 mt-1">Records with audio previews, refreshed daily</p>
          </div>
          <div class="text-sm text-olive-500 hidden sm:block">
            <%= Date.current.strftime("%B %d, %Y") %>
          </div>
        </div>
        <%= render "discovery/daily_gems_carousel", records: @daily_gems %>
      </div>
    </section>
  <% end %>

  <%# Cover Wall %>
  <% if @wall_records&.any? %>
    <section class="py-12" data-controller="cover-wall">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h2 class="font-display text-2xl text-olive-950">Cover Wall</h2>
            <p class="text-olive-600 mt-1">Click any cover to explore</p>
          </div>
        </div>

        <div id="cover-wall-grid"
             data-cover-wall-target="grid"
             class="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10 gap-1 sm:gap-2">
          <% @wall_records.each do |record| %>
            <%= render "discovery/wall_cover", record: record %>
          <% end %>
        </div>
      </div>

      <%# Quick View Modal - inside controller scope %>
      <%= render "discovery/quick_view_modal" %>
    </section>
  <% end %>
</div>
