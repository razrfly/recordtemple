<div class="space-y-16">
  <!-- Stats Grid -->
  <div class="grid grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- Total Blobs -->
    <div class="bg-white/60 dark:bg-olive-900/40 rounded-2xl p-6 border border-olive-200/50 dark:border-olive-800/50 shadow-sm">
      <div class="flex items-center gap-3 mb-3">
        <div class="p-2 bg-olive-100 dark:bg-olive-800 rounded-lg">
          <svg class="w-5 h-5 text-olive-600 dark:text-olive-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-olive-600 dark:text-olive-400">Image Blobs</span>
      </div>
      <div class="font-display text-3xl text-olive-950 dark:text-white"><%= number_with_delimiter(stats[:total_blobs]) %></div>
    </div>

    <!-- Variants Created -->
    <div class="bg-white/60 dark:bg-olive-900/40 rounded-2xl p-6 border border-olive-200/50 dark:border-olive-800/50 shadow-sm">
      <div class="flex items-center gap-3 mb-3">
        <div class="p-2 bg-olive-100 dark:bg-olive-800 rounded-lg">
          <svg class="w-5 h-5 text-olive-600 dark:text-olive-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3" />
          </svg>
        </div>
        <span class="text-sm font-medium text-olive-600 dark:text-olive-400">Variants</span>
      </div>
      <div class="font-display text-3xl text-olive-950 dark:text-white"><%= number_with_delimiter(stats[:variants_created]) %></div>
      <div class="mt-1 text-xs text-olive-500 dark:text-olive-500">of <%= number_with_delimiter(stats[:expected_variants]) %> expected</div>
    </div>

    <!-- Queue Size -->
    <div class="bg-white/60 dark:bg-olive-900/40 rounded-2xl p-6 border border-olive-200/50 dark:border-olive-800/50 shadow-sm">
      <div class="flex items-center gap-3 mb-3">
        <div class="p-2 <%= stats[:queue_size] > 0 ? 'bg-amber-100 dark:bg-amber-900/50' : 'bg-olive-100 dark:bg-olive-800' %> rounded-lg">
          <svg class="w-5 h-5 <%= stats[:queue_size] > 0 ? 'text-amber-600 dark:text-amber-400' : 'text-olive-600 dark:text-olive-400' %>" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-olive-600 dark:text-olive-400">Queue</span>
      </div>
      <div class="font-display text-3xl <%= stats[:queue_size] > 0 ? 'text-amber-600 dark:text-amber-400' : 'text-olive-950 dark:text-white' %>">
        <%= number_with_delimiter(stats[:queue_size]) %>
      </div>
      <% if stats[:queue_size] > 0 %>
        <div class="mt-1 text-xs text-amber-600 dark:text-amber-400">Processing...</div>
      <% end %>
    </div>

    <!-- Retry Count -->
    <div class="bg-white/60 dark:bg-olive-900/40 rounded-2xl p-6 border border-olive-200/50 dark:border-olive-800/50 shadow-sm">
      <div class="flex items-center gap-3 mb-3">
        <div class="p-2 <%= stats[:retry_count] > 0 ? 'bg-red-100 dark:bg-red-900/50' : 'bg-olive-100 dark:bg-olive-800' %> rounded-lg">
          <svg class="w-5 h-5 <%= stats[:retry_count] > 0 ? 'text-red-600 dark:text-red-400' : 'text-olive-600 dark:text-olive-400' %>" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
          </svg>
        </div>
        <span class="text-sm font-medium text-olive-600 dark:text-olive-400">Retries</span>
      </div>
      <div class="font-display text-3xl <%= stats[:retry_count] > 0 ? 'text-red-600 dark:text-red-400' : 'text-olive-950 dark:text-white' %>">
        <%= number_with_delimiter(stats[:retry_count]) %>
      </div>
      <% if stats[:retry_count] > 0 %>
        <div class="mt-1 text-xs text-red-600 dark:text-red-400">Failed jobs</div>
      <% end %>
    </div>
  </div>

  <!-- Progress Section -->
  <div class="mt-4 bg-white/80 dark:bg-olive-900/40 rounded-2xl p-8 border border-olive-300 dark:border-olive-800/50 shadow">
    <div class="flex items-center justify-between mb-6">
      <div>
        <h3 class="font-medium text-olive-900 dark:text-white">Generation Progress</h3>
        <p class="text-sm text-olive-500 dark:text-olive-400">
          <%= number_with_delimiter(stats[:expected_variants] - stats[:variants_created]) %> variants remaining
        </p>
      </div>
      <div class="text-right">
        <div class="font-display text-2xl text-olive-950 dark:text-white"><%= stats[:progress] %>%</div>
        <div class="text-sm text-olive-500 dark:text-olive-400">ETA: <%= stats[:eta] %></div>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="relative">
      <div class="w-full bg-olive-200 dark:bg-olive-800 rounded-full h-3 overflow-hidden">
        <div class="bg-olive-600 dark:bg-olive-400 h-3 rounded-full transition-all duration-500 ease-out" style="width: <%= [stats[:progress], 100].min %>%"></div>
      </div>
      <% if stats[:progress] > 0 && stats[:progress] < 100 %>
        <div class="absolute top-0 h-3 rounded-full bg-olive-500/50 dark:bg-olive-300/50 animate-pulse" style="width: <%= [stats[:progress] + 0.5, 100].min %>%; left: 0;"></div>
      <% end %>
    </div>

    <!-- Stats Row -->
    <div class="mt-8 grid grid-cols-3 gap-6 pt-6 border-t border-olive-200/50 dark:border-olive-700/50">
      <div>
        <div class="text-xs uppercase tracking-wider text-olive-500 dark:text-olive-500">Sizes per image</div>
        <div class="mt-1 font-medium text-olive-900 dark:text-white"><%= stats[:variant_sizes] %></div>
      </div>
      <div>
        <div class="text-xs uppercase tracking-wider text-olive-500 dark:text-olive-500">Total processed</div>
        <div class="mt-1 font-medium text-olive-900 dark:text-white"><%= number_with_delimiter(stats[:processed_today]) %></div>
      </div>
      <div>
        <div class="text-xs uppercase tracking-wider text-olive-500 dark:text-olive-500">Rate</div>
        <div class="mt-1 font-medium text-olive-900 dark:text-white">
          <% if stats[:processing_rate] > 0 %>
            <%= stats[:processing_rate] %>/sec
          <% else %>
            â€”
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
