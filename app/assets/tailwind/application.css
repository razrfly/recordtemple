@import "tailwindcss";

@config "../../../config/tailwind.config.js";

@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/aspect-ratio";
@plugin "@tailwindcss/typography";

/* Oatmeal Theme - Olive palette with Instrument Serif + Inter fonts */
@theme {
  --font-display: 'Instrument Serif', serif;
  --font-sans: 'Inter', system-ui, sans-serif;

  --color-olive-50: oklch(98.8% 0.003 106.5);
  --color-olive-100: oklch(96.6% 0.005 106.5);
  --color-olive-200: oklch(93% 0.007 106.5);
  --color-olive-300: oklch(88% 0.011 106.6);
  --color-olive-400: oklch(73.7% 0.021 106.9);
  --color-olive-500: oklch(58% 0.031 107.3);
  --color-olive-600: oklch(46.6% 0.025 107.3);
  --color-olive-700: oklch(39.4% 0.023 107.4);
  --color-olive-800: oklch(28.6% 0.016 107.4);
  --color-olive-900: oklch(22.8% 0.013 107.4);
  --color-olive-950: oklch(15.3% 0.006 107.1);
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-olive-100);
    --scroll-padding-top: 0;
    scroll-padding-top: var(--scroll-padding-top);

    @variant dark {
      background-color: var(--color-olive-950);
    }
  }
}

/* Custom animations for discovery pages */
@layer utilities {
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 2s ease-in-out infinite;
  }

  @keyframes pulse-subtle {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
}

/* Discovery carousel utilities */
@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Scroll snap for carousel */
  .scroll-snap-x {
    scroll-snap-type: x mandatory;
  }

  .scroll-snap-start {
    scroll-snap-align: start;
  }

  /* Fade edges for carousel peek effect */
  .carousel-fade-edges {
    mask-image: linear-gradient(
      to right,
      transparent,
      black 2%,
      black 98%,
      transparent
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 2%,
      black 98%,
      transparent
    );
  }

  /* Tab panel fade-in animation */
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Staggered card appearance */
  .animate-stagger-in {
    animation: stagger-in 0.4s ease-out backwards;
  }

  @keyframes stagger-in {
    from {
      opacity: 0;
      transform: translateY(8px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Shuffle machine reveal animation */
  .animate-reveal {
    animation: reveal 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes reveal {
    0% {
      opacity: 0;
      transform: scale(0.8) rotateY(90deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.05) rotateY(0deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotateY(0deg);
    }
  }

  /* Cover wall tile hover glow */
  .cover-glow:hover {
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
  }

  /* Snap scroll mandatory for mobile carousel */
  .snap-x-mandatory {
    scroll-snap-type: x mandatory;
  }

  .snap-start {
    scroll-snap-align: start;
  }
}
